import React, { useState, useEffect } from 'react'

import * as Yup from 'yup'
import { useFormik } from 'formik'
import { useAlertContext } from '../context/alertContext'
import {useNavigate } from 'react-router-dom'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { faCalendar, faChampagneGlasses, faClock, faTriangleExclamation, faUser } from '@fortawesome/free-solid-svg-icons'
import Button from '../components/Button'
import useSubmit from '../hooks/useSubmit'



const ConfirmationPage = () => {

    const [success,setSuccess] = useState(false)
    const{onOpen} = useAlertContext()

    const { isLoading, response, submit } = useSubmit()

    const navigator = useNavigate()

    const data = sessionStorage.getItem('booking')
    const bookingData = JSON.parse(data)

    const handleNavigate = () => {
        navigator('/reservation')
    }

    useEffect(()=>{
        console.log(bookingData)
    },[])

const formik = useFormik({
    initialValues: {
        firstName: '',
        lastName:'',
        email: '',
        phone: '', 
        comment: '',
        date: bookingData.date,
        time: bookingData.time,
        diners: bookingData.diners,
        occasion: bookingData.occasion,
        seating: bookingData.seating,
        policy:false,
    },
    onSubmit: (values) => {
        console.log(values)
        submit('', values)
        setSuccess(true)
    },
    validationSchema: Yup.object({
        firstName:Yup.string()
            .required('Please enter your first name!')
            .min(2,`must be at least 3 characters long`),
        lastName:Yup.string()
            .required('Please enter your last name!'),
        email:Yup.string()
            .email('Invalid email address!')
            .required('Please enter your email!'),
        phone:Yup.number('enter only numbers!')
            .required('Please enter your first name!')
            .min(11, `must be at least 11 characters long`),
        policy: Yup.boolean().oneOf([true], 'You need to accept the terms and conditions'),
        date: Yup.string(),
        time: Yup.string(),
        occasion: Yup.string(),
        diners: Yup.string(),
        seating: Yup.string(),
        })
    })


    useEffect(() => { 
        if (response) { 
          onOpen(response.type, response.message); 
          if (response.type === 'success') { 
            formik.resetForm(); 
            setTimeout(()=>{
                navigator('/')
            },[4000])
            setTimeout(() => {
                sessionStorage.removeItem("booking")
            }, [5000])
          } 
        } 
      }, [response]); 




    const handleSubmit = () => {
        if (!bookingData.time) {
            return true
        }
        if (!bookingData.seating) {
            return true
        }
        if (!bookingData.date) {
            return true
        }
        if (!bookingData.occasion) {
            return true
        }
        if (!bookingData.diners) {
            return true
        }
        return false
    }


  return (
    <section className='confirmation-section'>
        <div className="confirmation-bg-image">
            <img src="Image/restaurant.jpg" alt="" />
        </div>
        <div className="confirmation-bg-frame">      
            <svg id="confirmation_bg" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1009.43 778"><path d="M-77-16.75H816v778H-40c-.24-3.29-.84-6.61-.68-9.89.64-12.8,1.76-25.59,2.24-38.4.38-10,.07-20.06.07-30.1l-1.46-.08c-.54,1.9-1.07,3.8-1.61,5.7-1.4-20-3.24-39.82-5.61-59.55-1.65-13.72-3.89-27.36-6.13-41-1.31-8-3.14-15.95-4.74-23.92.69,12,2.55,23.84,4.34,35.66,4.86,32.14,8.66,64.39,9,96.94,0,2.64-.77,5.29-1.19,7.93-2.7-98.93-31.79-192.16-58.53-286.79-.35,1.29-.57,1.64-.5,1.91,2.7,10.62,5.3,21.27,8.16,31.85C-81.61,507.39-65.44,563-56.63,620.39c4.56,29.7,7.1,59.55,6.11,89.61,0,1.69-2.22,3.3-3.4,4.94-1-1.64-2.91-3.27-2.93-4.94-1-60.67-11.21-120-27-178.35-12.64-46.72-26.7-93-39.63-139.68-12.7-45.83-26.43-91.45-30.94-139.13-2.63-27.75-4.31-55.53-1.7-83.33,1.41-15,4-29.82,6-43.61.16-.34-.32.38-.53,1.17-7.47,28-11.87,56.51-9.7,85.45,1.75,23.36,5,46.66,8.75,69.8,3.48,21.64,8.25,43.09,12.82,64.55,2.22,10.4,5.3,20.62,8,30.92l-.94.25-3.52-9.36-.77.26,31.44,118.36-1.48.4q-7-23.77-13.91-47.57c-4.72-16.13-9.52-32.23-14.2-48.37-4.63-16-9.06-32-13.75-48s-7.58-32.36-14-47.9c-4.88,9-3.27,18.44-3.83,27.74q-2.24-8-4.45-16l-1.06.26L-164,340.5l-.93.2-13.24-50-1.53.37,26.25,111.31c-.63-1.69-1.09-2.75-1.42-3.85-10.66-34.85-20.75-69.84-27.62-105.69-9.11-47.5-14.12-95.21-8.6-143.59,6.47-56.65,27.77-106.9,64.45-150.62,4.13-4.93,7.77-10.27,11.63-15.42h29a12.27,12.27,0,0,1-1.18,1.56c-30.31,29.57-56.45,61.8-67.3,104-1.36,5.29-3.58,10.36-5.2,15.6-3.12,10.06-7.22,20-8.89,30.29-3.6,22.3-2.35,44.81-.18,67.23.34,3.46.56,6.93.83,10.4l1.53.07c.16-1.62.37-3.23.47-4.85,1.32-22.76,1.7-45.63,4.15-68.27,4.21-38.9,17.59-74.57,40.66-106.49C-108.13,14.73-93.06-1.41-77-16.75ZM-183.37,265.37c-6.38-44.92-8.48-89.74-.93-134.65C-195.87,175.73-192.53,220.64-183.37,265.37Zm7,16.23c-7.26-44.85-11.37-89.84-6-135.27C-191.61,191.93-186.68,236.88-176.42,281.6Zm45.93,37.54c-8.27-35.94-18.11-71.61-21.21-108.59C-149.51,247.68-141.61,283.71-130.49,319.14ZM-152.73,175.8c.49-24.74,5.65-48.76,10.92-72.76C-149.88,126.62-153.15,150.93-152.73,175.8Zm29.48,173.42,1.59-.44-5-17.88-1.38.39Z" transform="translate(193.43 16.75)"/><path d="M87.57,453.89v-5.2l1.16-.13,2.52,15.09-.93.29L88,459.13l-.74.19q.28,4.06.55,8.14C79.5,435.92,69,404.94,63.91,372.64l1.52-.39Q76.11,413,86.8,453.78Z" transform="translate(193.43 16.75)"/></svg>
        </div>
        <div className="confirmation-bg-pattern">
            <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 203.02 155.99"><defs></defs><path class="cls-1" d="M207.16,301.22c.73.28,1.59.27,1.81,1.09.17.6-.6.65-.86,1.06a4.63,4.63,0,0,1,1.21,2c.11.53.31,1.15-.41,1.44-.51.21-.2.5-.13.77a4.67,4.67,0,0,1,.17,2.13c-.18.8-.61,1.11-1.38.62-.27-.18-.46-.53-.86-.08-.69.75-1.31.29-1.81-.29a7.57,7.57,0,0,1-1.18-2.71c-.79.71-1.6,1.43-2.38,0l-.35.41c-.36.46-.77.88-1.41.61a1.34,1.34,0,0,1-.74-1.6,12,12,0,0,1,1.34-3.7c.12-.24.67-.52,0-.83s-.62.16-.8.46a19,19,0,0,1-2.55,3.61c-.22.21-.38.53-.84.53a3.55,3.55,0,0,1,.78-2c.51-.89,1.1-1.75,1.66-2.63a2.07,2.07,0,0,0,.33-.62,1.53,1.53,0,0,0-.46-1.42c-.42-.35-.71.29-1,.52s-.81.77-1.24,1.12c-1,.84-1.35.81-2.14-.29-.34-.49-.61-.17-.91-.07a1.25,1.25,0,0,1-1.35-.15.81.81,0,0,1-.05-1.18c.19-.26.09-.36-.11-.56-1-1-.86-1.34.4-1.78.21-.07.42-.16.69-.27-.94-.51-2.27-.46-2.38-1.8-.06-.77.71-.93,1.32-1.07-.2-.93-1.56-1.69-.65-2.59s1.53.33,2.35.72c.31-.49.18-1.75,1.34-1.07.61.37.72,1.2,1.24,1.9.07-.48.1-.78.17-1.07s.18-.74.6-.81a.76.76,0,0,1,.81.6c.32.95.79.44,1.28.2-.73-1-.89-2.23-1.81-3a.72.72,0,0,1-.16-.89.73.73,0,0,1,1-.24c.46.15.7.13.8-.45.16-.92.74-.92,1.4-.47.33.22.75.46.88.79.37,1,1.15.36,1.71.47.36.06.17-.34.17-.54,0-.95-.7-2.13.89-2.54.08,0,.07-.44.08-.66s0-.49,0-.72c.06-.77.13-1.7,1-1.87s.85.79,1.18,1.3l.27.39a10.49,10.49,0,0,1,1.7-2.29c.72-.65,1.24-.47,1.4.47a6.71,6.71,0,0,1-.27,3.05c.51.25,1.2-.21,1.45.45s-.27,1-.54,1.39c-.38.6-1.26,1.06-.45,1.95,0,.05-.08.29-.15.42a1.56,1.56,0,0,0,.74,2.19c.22.11.56.31.45.48-.69,1.07.31,1.05.82,1.37s.81.5.72,1-.61.75-1.08.84c-.8.15-1.52.11-1.47,1.37,0,.87-.72.57-1.22.23s-.74-.94-1.27-.1c-.14.24-.52.07-.76-.09-.43-.29-.88-.56-1.28-.89-1.34-1.11-1.31-1.1-2,.45-.61,1.31-1.31,2.56-1.9,3.87-.15.36-.85.73-.26,1.18a1.2,1.2,0,0,0,1.62-.12,10,10,0,0,1,3.77-1.78c.62-.16,1.37-.67,1.88,0S207.49,300.56,207.16,301.22Zm-5.07.62c1.46.88,3,1.43,3.63,3a21.2,21.2,0,0,0-3.66-2c-.27-.11-.57-.42-.84,0a11.27,11.27,0,0,0-1.86,4.11.78.78,0,0,0,.35.83c.37.23.58-.09.79-.32s.4-.49.61-.74.42-.24.67,0c.85.9,1.09.84,1.54-.34.09-.24,0-.59.49-.66.34,1,.64,2.1,1,3.13.21.54.43,1.22,1.17,1.19s.28-.88.64-1.22c.45,0,.57.4.81.64s.38.47.7.32.2-.49.2-.75a6.42,6.42,0,0,0-.56-2.31c-.14-.33-.36-.82.34-.63,1,.27.66-.25.53-.72a5.67,5.67,0,0,0-2-2.42c.5-.45,1.16,0,1.63-.52-.65-.72-1.66-.42-2.39-.83.22-.7,1.06-.87,1.22-1.69A18,18,0,0,0,202.09,301.84Zm-8.08-10c0,.69,0,1.11,0,1.54,0,.22.1.52-.19.62s-.4-.19-.53-.36a4.53,4.53,0,0,0-1.26-1.09c-.23-.13-.53-.31-.77,0s0,.45.14.63c.27.44.58.86.89,1.27s.36.64-.24.72c-.38.06-1,0-1,.47s.57.6.95.75c1.06.41,2.13.77,3.29,1.19-.69.55-1.4.34-2,.48s-1.56,0-1.56.54c0,.84,1,.35,1.71.56-.4.36-.72.62-1,.92s-.39.38-.23.62.43.12.65,0,.43-.21.66-.28c.65-.2,1.3-.45,1.2.71-.05.59.37.53.71.27a15.36,15.36,0,0,1,1.83-1.52c.86-.47.73-.87.25-1.53a17.75,17.75,0,0,0-3.56-3.63,9.06,9.06,0,0,1,5,4.2,17.54,17.54,0,0,0,1.47-2.94c.18-.45.09-.78-.41-.66-1,.22-1.18-.22-1.2-1.05a3.28,3.28,0,0,0-.27-.91c-.51.11-.44.8-1,.67-.16-.61-.11-1.32-.77-1.75-.48.84-.14,1.78-.51,2.7C195.26,294.11,195.09,292.86,194,291.87Zm13.77-5.37a6.85,6.85,0,0,0,.66-4.61,6.52,6.52,0,0,0-1.94,2.64c-.1.21-.18.47-.48.44s-.23-.29-.32-.45a3.89,3.89,0,0,0-1-1.59,5.24,5.24,0,0,0-.17,2.41c0,.6.66,1.34.09,1.75s-.72-.74-1.44-.76a5.72,5.72,0,0,0,1.2,3.67c.74-1.34.94-2.81,1.89-3.9-.08,1.53-.85,2.86-1.19,4.39a8.79,8.79,0,0,0,3.6-1.44c-.34-.29-.77,0-1.09-.4.8-.87,1.86-1.55,2.24-2.8C209,285.78,208.63,286.39,207.78,286.5Zm1.89,5.79c-.77-.59-1.55.07-2.28-.11.13-.67.93-.65,1-1.32a8.55,8.55,0,0,0-3.51,1c-.25.12-.57.25-.52.58s.45.18.69.22a3.39,3.39,0,0,1,2.31.83c-.91-.06-1.79-.26-2.68-.37-.62-.08-1,.15-.54.82a5.71,5.71,0,0,0,2.53,2.3l.18-1.34c.89.32,1.12,1.27,1.92,1.52a.7.7,0,0,0-.05-.8c-.52-1,0-1.06.78-1a2,2,0,0,0,1.75-.34c-.74-.79-1.82-.83-2.85-1.28Zm-8.95-1.49a3.52,3.52,0,0,1,2.22,1.22c.14.12.25.37.48.26a.5.5,0,0,0,.2-.63,5.57,5.57,0,0,0-1.48-2.49c-.42.31,0,.83-.44,1.13-.4-.54-.76-1.09-1.19-1.6s-.77-1.07-1.28-.89,0,.92-.17,1.4a.9.9,0,0,1-.07.11c-.56.1-.94-.61-1.64-.34a2.33,2.33,0,0,0,1.37,1.36c.24.1.69.1.35.49-.66.73.1.74.43.95.51.32,1.14.14,1.67.29,0,.63-.91.75-.57,1.27s1,.36,1.56.34c.35,0,.75,0,.93-.38s-.17-.74-.46-1C202,291.78,201.36,291.3,200.72,290.8Zm1.91,3.56c-1.34-.06-2.84.42-3-1.6,0-.26-.44-.34-.66-.09s.52,1.92,1,2c1,.16,1.34.6.94,1.56A22.48,22.48,0,0,1,199.5,299c-.27.46-.46.82.12,1.23A39.62,39.62,0,0,0,202.63,294.36Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M341.17,254a8.23,8.23,0,0,0-.15,5.29c.35,1.07-.37,1.34-1.07,1.63s-1.41.32-1.79-.67a6.69,6.69,0,0,1,1.79-7.43c.59-.54.74-2.54.16-3.09a5.68,5.68,0,0,1-1.58-6.44,7.14,7.14,0,0,1,5.77-4.66,22.55,22.55,0,0,1,2.85-.29,20.25,20.25,0,0,0,6.12-1.59A6.27,6.27,0,0,1,357,236c2.3.5,3.94,2.13,5.39,3.81.85,1,0,2.39.08,3.55s.88,2.15.47,3.4a5.89,5.89,0,0,1-1.65,2.59,89.28,89.28,0,0,0-7.41,7.66,5.53,5.53,0,0,1-5.22,2,5,5,0,0,1-3.58-2.37c-.13-.22-.17-.56-.52-.58A4.51,4.51,0,0,1,341.17,254Zm-.52-5c.19-.47.39-.94.57-1.41s-.14-.46-.47-.37a1,1,0,0,1,.75-1.22c.1.37-.52.62-.09,1.15a17.37,17.37,0,0,1,2.37-2.58c-1-.05-1.18.81-1.83.72a6.15,6.15,0,0,1,4.05-2.49c-.79.64-1.86.83-2.38,1.76a12.49,12.49,0,0,1,4.43-1.49,23.36,23.36,0,0,0-4,2.31,6.73,6.73,0,0,0-2.81,6.36,3.68,3.68,0,0,0,4.63,3.42,9.23,9.23,0,0,0,5.34-3.19c.28-.33.48-.8,1.11-.9a5.65,5.65,0,0,1-1.67,2.91c-.31.16-.79.33-.72.66s.44-.09.68,0c0,.61-.56.7-.92.9-1,.56-2.11,1-3.27,1.6,1.4,1,2.31-.43,3.54-.5-.62.7-1.48.83-2.2,1.25a4.61,4.61,0,0,0,5.85-1.93,33.33,33.33,0,0,1,5.75-6.23c.69-.6,1.39-1.2,2-1.86A3.26,3.26,0,0,0,362,244c-.18,1.49-1.55,1.47-2.41,2.07a28.34,28.34,0,0,1-4.56,2.61,2.19,2.19,0,0,1,1.1-1.46c1-.6,2-1.17,3-1.78a5.75,5.75,0,0,0,2.47-2.53,2.92,2.92,0,0,0-.25-3.17,2.66,2.66,0,0,0-2.94-.79,16.21,16.21,0,0,0-2.47.91l-4.94,2-.13-.28,4.62-2.37c.34-.18.79-.19,1-.62a1.56,1.56,0,0,0-1.2.43c-.65-.1-.2-.31,0-.42a9.1,9.1,0,0,1,3.32-1c-.55-1-1.55-.08-2.2-.6.1-.07.33,0,.23-.24,0,0-.27,0-.41,0a5.18,5.18,0,0,0-2.41.63,17.43,17.43,0,0,1-8.18,1.92,7,7,0,0,0-5.56,2.6,5.54,5.54,0,0,0-1,5.58c.54-1,.68-2,1.36-2.77l.2.17c-.43,1.26-1.54,2.39-.86,4,.55-.53.21-1.41,1-1.7-.11.53-.23,1.06-.35,1.59a.42.42,0,0,0-.06.53Zm-.36,4.68A14.32,14.32,0,0,0,339,257.8l-.18-1.42a4.8,4.8,0,0,0-.16,2.46c.05.32-.06,1,.6.7.46-.17,1.3-.05,1-1.07a6.46,6.46,0,0,1,.17-4C340.47,254.21,340.7,253.92,340.29,253.66Zm8.59,1.65a29.51,29.51,0,0,0-3.24,1C346.94,256.8,347.88,255.9,348.88,255.31Zm-9.9.11c-.14.2-.23.39,0,.6A.43.43,0,0,0,339,255.42Zm10.48-.28a1.45,1.45,0,0,0-.06-.19c-.1,0-.22,0-.28.08s-.07.22.09.23S349.38,255.18,349.46,255.14Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M257.1,372.34a14.2,14.2,0,0,1,3-8.46,8,8,0,0,1,10.82-1.95,11.73,11.73,0,0,1,1.2.78,12.57,12.57,0,0,0,5.54,2.68l.23.08c7.69,2.25,7.7,8.47,5.54,13-2.43,5.09-6.59,7.63-12.07,7.89a13.2,13.2,0,0,1-12.44-6.45A13.39,13.39,0,0,1,257.1,372.34Zm.83.94c0,.4.05,1.16.14,1.91a10.12,10.12,0,0,0,.37,1.63,12.47,12.47,0,0,0,12.38,8.88,13,13,0,0,0,12.66-9.64c1.18-4.52-.54-8.29-4.7-9.45a26.49,26.49,0,0,1-8-3.92c-4.2-2.89-8.51-.78-10.51,2.09A14.32,14.32,0,0,0,257.93,373.28Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M385.51,351.11a13.07,13.07,0,0,1-5.2.56,6.63,6.63,0,0,1-5.77-8.94,31.79,31.79,0,0,1,1.29-3.22,9.77,9.77,0,0,0-.12-8.66c-.14-.28-.26-.56-.38-.83,1.1-.54,1.61-.14,2.16.87a8.64,8.64,0,0,0,5.82,4.24c1.94.49,3.89.92,5.8,1.48,3.47,1,4.81,3.51,3.82,7a10.55,10.55,0,0,1-3.84,5.5l-1,.77a12.52,12.52,0,0,1,3.39,1.3c.26.16.63.31.43.72s-.54.31-.84.18c-.59-.24-1.17-.51-1.95-.86.27.82.51,1.46.7,2.11.07.24.24.6-.14.72s-.46-.26-.61-.47c-.46-.65-.34-1.65-1.22-2.06-.45.44.43,1.3-.51,1.58-.21-.71-.43-1.42-.63-2.06-.85.62-.85,1.56-1,2.43-.08.36,0,.63.43.59a.34.34,0,0,1-.37.46c-.33,0-.43-.3-.43-.59a7.53,7.53,0,0,1,.5-2.62l0-.29Zm-8.25-19.62a.59.59,0,0,0-.23.78,10.16,10.16,0,0,1-.49,7.35c-.48,1.13-1,2.27-1.35,3.44a5.74,5.74,0,0,0,4,7.62c5.36,1.72,12.28-2.39,13.32-7.91.51-2.72-.59-4.64-3.23-5.44-1.6-.49-3.24-.86-4.87-1.24C381.48,335.42,378.84,334.32,377.26,331.49Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M222.73,237.92c0,3-2.67,5.16-5.34,4.28-2.14-.7-3.06-2.61-2.5-5.22.5-2.37,2.09-3.65,4.27-3.43A4.13,4.13,0,0,1,222.73,237.92Zm-7.4.11a3.33,3.33,0,0,0,3.26,3.65A3.57,3.57,0,0,0,222,238a3.45,3.45,0,0,0-3.29-3.67A3.54,3.54,0,0,0,215.33,238Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M329.92,373.34c0,3-2.68,5.16-5.34,4.28-2.18-.72-3.08-2.68-2.48-5.35a3.83,3.83,0,0,1,4.26-3.31A4.14,4.14,0,0,1,329.92,373.34Zm-7.4.14a3.32,3.32,0,0,0,3.17,3.61,3.55,3.55,0,0,0,3.51-3.74,3.43,3.43,0,0,0-3.32-3.63A3.55,3.55,0,0,0,322.52,373.48Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M380.52,281.28c0,3.36-3.2,5.51-6,4-1.94-1-2.54-3.09-1.66-5.73a3.77,3.77,0,0,1,4.28-2.63A4.16,4.16,0,0,1,380.52,281.28Zm-7.4.12a3.33,3.33,0,0,0,3.24,3.66,3.56,3.56,0,0,0,3.44-3.7,3.45,3.45,0,0,0-3.28-3.68A3.54,3.54,0,0,0,373.12,281.4Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M225.37,365.83c-.11,3.49-3.27,5.56-6,4.08-2.51-1.37-2.55-4.23-1.17-6.69a3.74,3.74,0,0,1,5.54-.89A4.3,4.3,0,0,1,225.37,365.83Zm-.72,0a3.43,3.43,0,0,0-3.38-3.58,3.56,3.56,0,0,0-3.3,3.81,3.3,3.3,0,0,0,3.34,3.56A3.58,3.58,0,0,0,224.65,365.87Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M364.29,389.39a16.74,16.74,0,0,0-.26-3.54,2.19,2.19,0,0,1,1.34-2.43,2.19,2.19,0,0,1,2,3.7c-.85.87-1.86,1.6-2.8,2.39Zm1.69-1.72c1.63-1.13,1.95-1.93,1.16-3.1a11.6,11.6,0,0,1-1.31,3l-.07.26Zm-.59-3,.24.19a6.29,6.29,0,0,0-.53,2.88,14.76,14.76,0,0,0,1.34-2.38c.19-.44.65-1.11-.07-1.4a1.22,1.22,0,0,0-1.75.81,4.7,4.7,0,0,0,0,2.25A6.85,6.85,0,0,1,365.39,384.69Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M386.08,354.09c.1-.76.21-1.53.32-2.38.3.51.1,1,.22,1.42C386.5,353.48,386.62,354,386.08,354.09Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M351.12,255.81a1.29,1.29,0,0,1-1,.71C350.2,256,350.6,256.08,351.12,255.81Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M350.59,254.62l.29-.43c.12,0,.39-.1.34.1S351,254.8,350.59,254.62Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M340.63,244.43c.11-.1.13-.43.34-.25s0,.31-.17.41A1.29,1.29,0,0,0,340.63,244.43Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M341.73,245.5c.22.32,0,.41-.25.5C341.29,245.7,341.5,245.6,341.73,245.5Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M342,245.26c.07.24,0,.38-.26.26C341.72,245.35,341.79,245.25,342,245.26Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M340.8,244.59c0,.1-.09.21-.13.32l-.2-.17c.06-.1.11-.21.16-.31A1.29,1.29,0,0,1,340.8,244.59Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M266.76,363.87a4.76,4.76,0,0,1,4.68,2.86,2.72,2.72,0,0,1-.88,3.23c-.74.66-1.56,1.25-2.27,1.93a3.24,3.24,0,0,0-.94,3.7c.11.3.19.61.27.92A3.48,3.48,0,0,1,261.8,380a7.84,7.84,0,0,1-2.22-6.1,13,13,0,0,1,1.36-5.9A8.29,8.29,0,0,1,266.76,363.87Zm-6.36,10a7.7,7.7,0,0,0,1.6,5.41,2.93,2.93,0,0,0,3.56.86,2.7,2.7,0,0,0,1.34-3.34c-.07-.31-.15-.62-.25-.92A4.1,4.1,0,0,1,268,371.2a17.62,17.62,0,0,1,1.6-1.25,2.69,2.69,0,0,0,1.4-2.81,3,3,0,0,0-2.36-2.28c-2.52-.75-5.79.91-7,3.57A15.22,15.22,0,0,0,260.4,373.83Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M281.17,374.43a10.37,10.37,0,0,1-2.4,7,6.41,6.41,0,0,1-6.13,2.19A4,4,0,0,1,270,377.3a3.25,3.25,0,0,1,.51-.65,5.39,5.39,0,0,0,1.73-5.18,3.36,3.36,0,0,1,2-3.93,4.9,4.9,0,0,1,5,1.34A8.57,8.57,0,0,1,281.17,374.43Zm-.72.07c0-2.18-.48-4.21-2.25-5.69a3.3,3.3,0,0,0-3.77-.62c-1.36.65-1.63,1.86-1.54,3.22a5.81,5.81,0,0,0,.07.83,4.56,4.56,0,0,1-1.25,4.17,8.24,8.24,0,0,0-1.26,1.73,3.34,3.34,0,0,0,3.17,4.87,6.16,6.16,0,0,0,5.65-3.56A10.93,10.93,0,0,0,280.45,374.5Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M268.51,375.81a2.73,2.73,0,0,1,1.17-3.6A4.84,4.84,0,0,0,268.51,375.81Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M271.39,373.13a2.9,2.9,0,0,1-.77,2.35C270.73,374.65,271.25,374,271.39,373.13Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M382.38,339.8c2.13,2.24,4.14,4.54,4.46,7.83.06.6,0,.82-.59,1a18.48,18.48,0,0,1-2.53.67h-.12c-1,.34-.93.32-1.64-.82-2.08-3.32-2.71-7.05-3.12-10.84a9.79,9.79,0,0,1,.76,3.1,28.2,28.2,0,0,0,2.43,7,1.91,1.91,0,0,0,2.53,1.18c1.82-.47,2-.68,1.55-2.51a11.34,11.34,0,0,0-2.14-4.1L382.21,340Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M380,349.86a6.31,6.31,0,0,1-3.17-5.3,14.76,14.76,0,0,1,1-5.95c-.81,4.05-1.26,8,2.28,11.13Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M390.64,345.21c.58-1.86.6-3.62-.91-5.11l.23-.2C391.71,341.59,392,343.73,390.64,345.21Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M385.9,339.41a5.57,5.57,0,0,1,2.73,4.44,8.73,8.73,0,0,0-3-4.23Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M389.73,340.1a23.45,23.45,0,0,0-4.67-2.53,9.19,9.19,0,0,1,4.9,2.33Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M385.67,339.62a38.45,38.45,0,0,1-3.92-2.77l.15-.16a36.1,36.1,0,0,1,4,2.72Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M382,339.73l-.34-.38.16-.16.38.39Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M381.62,336.5l.28.2-.15.15-.26-.23Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M381.45,339.05c0-.09-.1-.25-.09-.25s.17.05.21.15Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M381.57,339l.23.24-.16.16c-.07-.1-.13-.2-.19-.3Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M382.18,339.58l.2.22a1.54,1.54,0,0,0-.17.19l-.23-.26Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M381.49,336.62c-.1,0-.22-.08-.13-.22s.17.07.26.1Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M380.13,349.74l.13.2-.26-.08Z" transform="translate(-190.23 -233.52)"/><polygon class="cls-1" points="197.15 114.25 197.12 114.17 197.2 114.18 197.15 114.25"/><path class="cls-1" d="M390.59,345.31h-.07s0-.08,0-.09h.1Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M220.14,239c-.59.3-.59.3-.37,1.13-1-.81-1.19-.77-1.93.34,0-1.28-.14-1.43-1.38-1.4.85-.54,1.09-1.17.54-2,0-.06-.1-.12-.15-.18a2.22,2.22,0,0,0,.45-.07c.65-.2,1.13-.54.88-1.74.57,1.13,1.19,1.41,2.09.92-.56,1.18-.39,1.42,1.27,1.52-1.07.23-1.75.49-1.41,1.46Zm-.62-1.19c-.05-.58-.16-1.12-.88-1a1,1,0,0,0-1,1.14c0,.52.19,1.1.87,1.09S219.52,238.51,219.52,237.85Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M220.13,239.06h.31l-.05.15-.25-.17Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M327.33,374.46c-1.21,0-.12.79-.36,1.14-1-.82-1.2-.78-1.94.33,0-1.28-.14-1.43-1.38-1.4.86-.54,1.09-1.18.54-2,0-.06-.1-.12-.15-.18a3.25,3.25,0,0,0,.45-.07c.65-.21,1.14-.54.88-1.74.57,1.12,1.19,1.41,2.09.92-.56,1.17-.39,1.42,1.28,1.52-1.08.23-1.76.49-1.42,1.46Zm-.61-1.19c-.06-.56-.15-1.11-.88-1a1.05,1.05,0,0,0-1,1.14c0,.51.19,1.1.86,1.09S326.71,373.94,326.72,373.27Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M327.32,374.48h.31l-.05.15a2.2,2.2,0,0,0-.25-.17Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M377.93,282.42c-.59.3-.59.3-.37,1.13-1-.81-1.19-.77-1.93.34,0-1.27-.14-1.42-1.38-1.4.85-.54,1.09-1.17.54-2,0-.06-.1-.11-.15-.17a3.25,3.25,0,0,0,.45-.08c.65-.2,1.13-.53.88-1.74.57,1.13,1.19,1.41,2.09.92-.56,1.18-.39,1.42,1.27,1.52-1.07.24-1.75.5-1.41,1.46Zm-.61-1.24c-.07-.45-.1-1-.84-1a1,1,0,0,0-1,1.1c0,.56.19,1.18.94,1.12S377.31,281.89,377.32,281.18Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M377.92,282.44h.31l-.05.15-.25-.17Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M222.78,367c-1.22,0-.12.79-.36,1.14-1-.82-1.2-.78-2,.46.11-1,.17-1.85-1.26-1.48.82-.59,1.06-1.23.51-2l-.15-.18a2.22,2.22,0,0,0,.45-.07c.63-.22,1.19-.49,1-1.42a1.32,1.32,0,0,0,2,.6c-.56,1.17-.39,1.42,1.27,1.52-1.07.23-1.75.49-1.41,1.46Zm-.62-1.2c-.06-.5-.1-1.08-.84-1a1,1,0,0,0-1,1.11c0,.56.19,1.17.94,1.12S222.16,366.49,222.16,365.83Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M222.77,367.05h.31l-.05.15-.25-.17Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M365.53,384.41c.11-.15.23-.44.38-.34s0,.36-.14.52Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M365.77,384.59c0,.09-.09.19-.14.29l-.24-.19c.05-.09.1-.19.14-.28Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M266,369a1.47,1.47,0,0,1-.73-1.69.58.58,0,0,1,.65-.41,1.63,1.63,0,0,1,1.3,1.37,1.55,1.55,0,0,1,.05.23c.11.49.39,1.25,0,1.42s-1-.36-1.27-.93c.34-.42.52.48.86.1,0-.11,0-.22-.07-.33-.12-.53-.21-1.36-.86-1.13s.17.77.21,1.2C266.09,368.83,266,368.89,266,369Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M264.42,373a3.62,3.62,0,0,1-1.89-.55c-.31-.21-.55-.5-.4-.9a.79.79,0,0,1,.94-.53,3.53,3.53,0,0,1,1.8.84c.26.23.67.5.53.85S264.79,372.94,264.42,373Zm-1.87-1.32c.89.8,1.17.87,2.21.6C264.06,371.88,263.49,371.36,262.55,371.65Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M264.85,375.77c.25,0,.61,0,.59.49a2.48,2.48,0,0,1-1.81,1.69,1,1,0,0,1-1-.58c-.19-.42.14-.66.41-.89A3.7,3.7,0,0,1,264.85,375.77Zm0,.62a1.86,1.86,0,0,0-1.69.67c-.11.14,0,.28.21.31C264.1,377.49,264.45,377.05,264.87,376.39Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M268.37,366.19a1.77,1.77,0,0,1,.39,2.16Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M264,369.16c.57.4,1.22.72,1.41,1.47l0,0a3.91,3.91,0,0,1-1.56-1.32Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M264.35,374.17l-1.56-.1v-.3A1.9,1.9,0,0,1,264.35,374.17Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M263.91,369.29l-.08-.24.21.11Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M265.45,370.63l.21.05c-.15.22-.15,0-.19-.07Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M274.82,380.33c.05.86-.2,1.29-.75,1.48a1,1,0,0,1-1.19-.57,4.13,4.13,0,0,1-.56-3c.13-.67.49-.9,1.06-.32A4.79,4.79,0,0,1,274.82,380.33Zm-1.89-2.13a3.68,3.68,0,0,0,.24,2.39c.15.3.31.74.75.56s.37-.61.23-1A6.72,6.72,0,0,0,272.93,378.2Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M275.62,375a2.55,2.55,0,0,1,2.33.93c.48.71.15,1.4-.7,1.4a4.23,4.23,0,0,1-3-1.56c-.33-.33-.13-.57.29-.64S275.35,375,275.62,375Zm-.6.64a5.59,5.59,0,0,0,1.78,1.06c.24.08.48.14.63-.13s-.06-.44-.24-.59A2.82,2.82,0,0,0,275,375.65Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M274.68,372.82c-.8.05-.89-.3-.54-.93a2.91,2.91,0,0,1,2.42-1.52,1,1,0,0,1,1,.52c.24.46-.05.78-.33,1.05A3.85,3.85,0,0,1,274.68,372.82Zm2.4-1.81a2.58,2.58,0,0,0-2.61,1.29C275.48,372,276.38,372.07,277.08,371Z" transform="translate(-190.23 -233.52)"/><path class="cls-1" d="M273.21,376.7a5.8,5.8,0,0,1,1.91,1.68A3.74,3.74,0,0,1,273.21,376.7Z" transform="translate(-190.23 -233.52)"/></svg>
        </div>
        <div className="container">
            <h1 className="ff-secondary fw-regular fs-3xl text-yellow">
                Confirm booking
            </h1>
            <form onSubmit={formik.handleSubmit}>
                <div className="fields">
                    <div className="field">
                        <label htmlFor="firstName">First Name<sup>✻</sup></label>
                        <input 
                            type="text" 
                            name="firstName" 
                            id="firstname"
                            value={formik.values.firstName}
                            className={!!formik.errors.firstName && formik.touched.firstName && 'invalid-border'}
                            placeholder='First name'
                            onChange={formik.handleChange}
                            onBlur={formik.handleBlur}
                            {...formik.getFieldHelpers('firstName')}
                        />
                        {
                            !!formik.errors.firstName && formik.touched.firstName &&
                                <span className="error-msg">{formik.errors.firstName}</span>
                        }
                    </div>
                    <div className="field">
                        <label htmlFor="lastName">Last Name<sup>✻</sup></label>
                        <input 
                            type="text" 
                            name="lastName" 
                            id="lastname"
                            placeholder='Last name'
                            value={formik.values.lastName}
                            className={!!formik.errors.lastName && formik.touched.lastName && 'invalid-border'}
                            onChange={formik.handleChange}
                            onBlur={formik.handleBlur}
                            {...formik.getFieldHelpers('lastName')}
                        />
                        {
                            !!formik.errors.lastName && formik.touched.lastName &&
                                <span className="error-msg">{formik.errors.lastName}</span>
                        }
                    </div>
                    <div className="field">
                        <label htmlFor="email">Email<sup>✻</sup></label>
                        <input 
                            type="email" 
                            name="email" 
                            id="email"
                            placeholder='you@company.com'
                            value={formik.values.email}
                            className={!!formik.errors.email && formik.touched.email && 'invalid-border'}
                            onChange={formik.handleChange}
                            onBlur={formik.handleBlur}
                            {...formik.getFieldHelpers('email')}
                        />
                        {
                            !!formik.errors.email && formik.touched.email &&
                                <span className="error-msg">{formik.errors.email}</span>
                        }
                    </div>
                    <div className="field">
                        <label htmlFor="phone">Phone Number<sup>✻</sup></label>
                        <input 
                            type='tel'
                            name="phone" 
                            id="phone" 
                            placeholder='+880 1234 123 123'
                            value={formik.values.phone}
                            className={!!formik.errors.phone && formik.touched.phone && 'invalid-border'}
                            onChange={formik.handleChange}
                            onBlur={formik.handleBlur}
                            {...formik.getFieldHelpers('phone')}
                        />
                        {
                            !!formik.errors.phone && formik.touched.phone &&
                                <span className="error-msg">{formik.errors.phone}</span>
                        }
                    </div>
                    <div className="booking-data">
                    <div
                            name='date'
                            className={formik.errors.date ? 'error-msg' : ""}
                            onClick={handleNavigate}
                        >
                            {!!bookingData.date ?
                                <>
                                    <FontAwesomeIcon icon={faCalendar} />
                                    <span>
                                        {formik.values.date}
                                    </span> 
                                </> :
                                <>
                                    <FontAwesomeIcon color='#ffc200' icon={faCalendar} />
                                    <span className="field-error-msg">
                                        <FontAwesomeIcon icon={faTriangleExclamation} />
                                        Select Date
                                    </span>    
                                </>
                            }
                        </div> 
                        <div
                            name='time'
                            onChange={formik.handleChange}
                            className={formik.errors.time ? 'error-msg' : ""}
                            onClick={handleNavigate}
                        >
                            {!!bookingData.time ?
                                <>
                                    <FontAwesomeIcon icon={faClock} />
                                    <span>
                                        {formik.values.time}
                                    </span> 
                                </> :
                                <>
                                    <FontAwesomeIcon color='#ffc200' icon={faClock} />
                                    <span className="field-error-msg">
                                        <FontAwesomeIcon icon={faTriangleExclamation} />
                                        Select Time
                                    </span>    
                                </>
                            }
                        </div> 
                        <div
                            name='occasion'
                            onChange={formik.handleChange}
                            className={formik.errors.occasion ? 'error-msg' : ""}
                            onClick={handleNavigate}
                        >
                            {!!bookingData.occasion ?
                                <>
                                    <FontAwesomeIcon icon={faChampagneGlasses} />
                                    <span>
                                        {formik.values.occasion}
                                    </span> 
                                </> :
                                <>
                                    <FontAwesomeIcon color='#ffc200' icon={faChampagneGlasses} />
                                    <span className="field-error-msg">
                                        <FontAwesomeIcon icon={faTriangleExclamation} />
                                        Select Occasion
                                    </span>    
                                </>
                            }
                        </div> 
                        <div
                            name='time'
                            onChange={formik.handleChange}
                            onClick={handleNavigate}
                            className={formik.errors.time ? 'error-msg' : ""}
                        >
                            {!!bookingData.diners ?
                                <>
                                    <FontAwesomeIcon icon={faUser} />
                                    <span>
                                        {formik.values.diners}
                                    </span> 
                                </> :
                                <>
                                    <FontAwesomeIcon color='#ffc200' icon={faUser} />
                                    <span className="field-error-msg">
                                        <FontAwesomeIcon icon={faTriangleExclamation} />
                                        Select Diners
                                    </span>    
                                </>
                            }
                        </div> 
                            
                        
                        { !!bookingData.seating ? 
                            <div
                                name='seating'
                                onChange={formik.handleChange}
                            >
                                {formik.values.seating}
                            </div> :
                            <span 
                                className="field-error-msg" 
                                onClick={handleNavigate}
                            >
                                <FontAwesomeIcon icon={faTriangleExclamation} />
                                Select Location
                            </span>
                        } 
                    </div>
                    <div className="field">
                        <label htmlFor="comment">Comment</label>
                        <textarea 
                            name="comment" 
                            id="comment" 
                            placeholder='Comment'
                            cols="30" 
                            rows="10"
                            onChange={formik.handleChange}
                        >
                        </textarea>
                    </div>
                    <div 
                        className={`field checkbox`}
                    >
                        <input 
                            type="checkbox" 
                            name="policy" 
                            id="policy" 
                            onChange={formik.handleChange}
                            onBlur={formik.handleBlur}
                            {...formik.getFieldHelpers('policy')}
                        />
                        <label htmlFor="policy">I agree with <em>friendly policy</em> with little lemon</label>
                        {
                            !!formik.errors.policy && formik.touched.policy &&
                                <span className="error-msg">{formik.errors.policy}</span>
                        }
                    </div>
                </div>
                <Button
                    disabled={handleSubmit()}
                    loading={isLoading}
                >
                    Confirm booking
                </Button>
            </form>
        </div>
    </section>
  )
}

export default ConfirmationPage